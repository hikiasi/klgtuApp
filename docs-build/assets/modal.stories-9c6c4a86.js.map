{"version":3,"file":"modal.stories-9c6c4a86.js","sources":["../../src/shared/ui/core/organisms/modal/context.tsx","../../src/shared/ui/core/organisms/modal/modal-dialog.tsx","../../src/shared/ui/core/organisms/modal/modal.tsx","../../src/shared/ui/core/organisms/modal/modal-body.tsx","../../src/shared/ui/core/organisms/modal/modal-footer.tsx","../../src/shared/ui/core/organisms/modal/modal-header.tsx","../../src/shared/ui/core/organisms/modal/modal-title.tsx","../../src/shared/ui/core/organisms/modal/index.ts"],"sourcesContent":["import { createContext } from \"react\"\n\ntype TModalContext = {\n  onHide: () => void\n}\n\nconst ModalContext = createContext<TModalContext>({\n  onHide() { },\n})\n\nexport default ModalContext\n","import { HTMLAttributes, ReactNode, forwardRef } from \"react\";\nimport styled from \"styled-components\";\n\nexport type TModalDialog = HTMLAttributes<HTMLDivElement> & {\n  children?: ReactNode,\n}\n\nconst ModalDialog = forwardRef<HTMLDivElement, TModalDialog>((\n  {\n    children,\n    ...props\n  }: TModalDialog,\n  ref) => {\n  return (\n    <Wrapper {...props} ref={ref}>\n      {children}\n    </Wrapper>\n  );\n}\n)\n\nconst Wrapper = styled.div`\n\n`\n\nexport default ModalDialog\n","import styled from \"styled-components\";\nimport { HTMLAttributes, KeyboardEvent, ReactNode, forwardRef, useEffect, useMemo } from \"react\";\nimport ModalContext from \"./context\";\nimport Dialog from \"./modal-dialog\";\n\nexport type TModal = HTMLAttributes<HTMLDivElement> & {\n  scrollable?: boolean,\n  keyboard?: boolean,\n  backdrop?: boolean,\n  autoFocus?: boolean,\n  show: boolean,\n  closeOnBackdrop?: boolean,\n  onEscapeKeyDown?: (e: KeyboardEvent) => void,\n  onHide?: () => void,\n  onShow?: () => void,\n  children?: ReactNode,\n}\n\nconst Modal = forwardRef<HTMLDivElement, TModal>((\n  {\n    backdrop = true,\n    autoFocus = true,\n    scrollable = false,\n    keyboard = true,\n    onEscapeKeyDown,\n    onHide,\n    onShow,\n    children,\n    closeOnBackdrop = true,\n    show,\n    ...props\n  }: TModal,\n  ref) => {\n\n  const handleHide = () => {\n    if (!scrollable) {\n      document.body.style.overflow = 'auto'\n    }\n    onHide?.()\n  }\n  const modalContext = useMemo(\n    () => ({\n      onHide: handleHide,\n    }),\n    [handleHide]\n  )\n  const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n    if (keyboard && isEscKey(e)) {\n      onEscapeKeyDown?.(e)\n    }\n    if (e!.defaultPrevented) {\n      onHide?.()\n    }\n  }\n\n  const handleShow = () => {\n    if (!scrollable) {\n      document.body.style.overflow = 'hidden'\n    }\n    onShow?.();\n  }\n\n  const renderDialog = () => (\n    <Dialog ref={ref} {...props}>\n      {children}\n    </Dialog>\n  )\n\n  useEffect(() => {\n    if (!show) return\n    handleShow()\n  }, [show])\n  return (\n    <ModalContext.Provider value={modalContext}>\n      <Backdrop onMouseUp={handleHide} />\n      <Wrapper onKeyDown={handleKeyDown} {...props}>\n        {renderDialog()}\n      </Wrapper>\n    </ModalContext.Provider>\n  );\n});\n\nconst Wrapper = styled.div`\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  border-radius: 12px;\n  border: 1px solid ${({ theme: { palette } }) => palette.background.bg_150};\n  background: ${({ theme: { palette } }) => palette.background.bg_000};\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n`\nconst Backdrop = styled.div`\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  left: 0;\n  right: 0;\n  background: rgba(0,0,0,.2);\n`\n\nconst isEscKey = (e: KeyboardEvent): boolean => {\n  return e.code === 'Escape' || e.keyCode === 27;\n}\n\nexport default Modal\n","import { ReactNode } from \"react\";\nimport styled from \"styled-components\";\n\nexport type TModalBody = {\n  children?: ReactNode\n}\n\nconst ModalBody = ({ children }: TModalBody) => {\n  return (\n    <Body>\n      <ContentWrapper>\n        {children}\n      </ContentWrapper>\n    </Body>\n  );\n};\n\n\nconst Body = styled.div`\n  padding: 16px 16px 0px 16px;\n  margin-bottom: 20px;\n`\nconst ContentWrapper = styled.div`\n\n`\n\nexport default ModalBody\n","import { ReactNode } from \"react\";\nimport styled from \"styled-components\";\n\nexport type TModalFooter = {\n  children?: ReactNode\n}\n\nconst ModalFooter = ({ children }: TModalFooter) => {\n  return (\n    <Footer>\n      {children}\n    </Footer>\n  );\n};\n\nconst Footer = styled.div`\n  padding: 0px 16px 16px 16px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 16px;\n`\n\nexport default ModalFooter\n","import { ReactNode, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { IconButton } from \"../../molecules\";\nimport ModalContext from \"./context\";\n\nexport type TModalHeader = {\n  children?: ReactNode\n  onHide?: () => void\n}\n\nconst ModalHeader = ({ children, onHide }: TModalHeader) => {\n  const context = useContext(ModalContext)\n  const handleClick = () => {\n    context?.onHide()\n    onHide?.()\n  }\n  return (\n    <Header>\n      {children}\n      <IconButton\n        icon=\"xClose\"\n        variant=\"transparent\"\n        width={18}\n        height={18}\n        onClick={handleClick}\n        padding={false}\n      />\n    </Header>\n  );\n};\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ${({ theme: { palette } }) => palette.background.bg_150};\n  padding: 16px;\n  gap: 8px;\n`\n\nexport default ModalHeader\n","import { Typography } from \"../../atoms\";\n\nexport type TModalTitle = {\n  children?: string\n}\n\nconst ModalTitle = ({ children }: TModalTitle) => {\n  return (\n    <Typography variant=\"callout\">\n      {children}\n    </Typography>\n  );\n};\n\nexport default ModalTitle\n","import Modal from \"./modal\";\nimport ModalBody from \"./modal-body\";\nimport ModalDialog from \"./modal-dialog\";\nimport ModalFooter from \"./modal-footer\";\nimport ModalHeader from \"./modal-header\";\nimport ModalTitle from \"./modal-title\";\n\nexport default Object.assign(Modal, {\n  Body: ModalBody,\n  Header: ModalHeader,\n  Title: ModalTitle,\n  Footer: ModalFooter,\n  Dialog: ModalDialog,\n})\n"],"names":["ModalContext","createContext","ModalDialog","forwardRef","children","props","ref","jsx","Wrapper","styled","Modal","backdrop","autoFocus","scrollable","keyboard","onEscapeKeyDown","onHide","onShow","closeOnBackdrop","show","handleHide","modalContext","useMemo","handleKeyDown","e","isEscKey","handleShow","renderDialog","Dialog","useEffect","jsxs","Backdrop","palette","ModalBody","Body","ContentWrapper","ModalFooter","Footer","ModalHeader","context","useContext","handleClick","Header","IconButton","ModalTitle","Typography"],"mappings":"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"}